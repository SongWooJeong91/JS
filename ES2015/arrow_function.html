<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arrow function</title>
</head>
<body>
    <h1>화살표 함수(arrow function)</h1>
    <script>
        // 화살표 함수(arrow function)라는 새로운 함수가 추가되었다.

        // 일반 함수
        function add1(x, y) {
            return x+y;
        };

        // function 선언 대신 => 기호로 함수 선언
        const add2 = (x, y) => {
            return x+y;
        };

        // 내부에 return문 밖에 없을 때 return문을 생략 가능
        const add3 = (x, y) => x+y;

        // 내부를 () 소괄호로 감쌀 수 있다.
        const add4 = (x, y) => (x+y);

        // 매개변수가 하나일 때
        function not1(x) {
            return !x;
        }
        // => 소괄호로 묶어주지 않아도 된다.
        const not2 = x => !x;

        // 기존 function과 다른 점은 this 바인드 방식
        var relationship1 = {
            name: 'zero',
            friends: ['nero','hero','xero'],
            logFriends: function() {
                // 각자 다른 함수 스코프의 this를 가지므로 that이라는 변수를 사용하여 
                // relationship1에 간접적으로 접근
                var that = this; // relationship을 가리키는 this를 that에 저장
                this.friends.forEach(function (friend) {
                    console.log(that.name, friend);
                });
            },
        };
        relationship1.logFriends();

        // 화살표 함수는 상위 스코프의 this를 물려받는다.
        const relationship2 = {
            name: 'zero',
            friends: ['nero','hero','xero'],
            logFriends() {
                // 화살표 함수를 사용해 바깥 스코프인 logFriends() this를 그대로 사용할 수 있다.
                // 상위 스코프의 this를 그대로 물려받은 것!
                this.friends.forEach(friend => {
                    console.log(this.name, friend);
                });
            },
        };
        relationship2.logFriends();
    </script>
</body>
</html>